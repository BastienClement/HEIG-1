\documentclass[11pt,a4paper]{article}

\usepackage[T1]{fontenc}
\usepackage[utf8]{inputenc}
\usepackage[frenchb]{babel}

\usepackage{fancyhdr} % headers
\usepackage[usenames,dvipsnames]{color} % colors
\usepackage{graphicx} % images
\usepackage{listings} % source code
\usepackage{titling} % meta-infos
\usepackage{courier} % courier font
\usepackage{fullpage} % full page layout
\usepackage{titlesec} % title customization
\usepackage{parskip} % paragraphs spacing
\usepackage{amsmath}
\usepackage{tikz}
\usepackage{siunitx}
%\usepackage{showframe} % layout debug

\usepackage{float}
\restylefloat{figure}

\topmargin -10mm
\headsep 5mm
\headheight 10mm

\linespread{1.1}
\renewcommand{\arraystretch}{1.3}

\setlength\parindent{0pt}
\setlength{\unitlength}{1cm}
\setlength{\droptitle}{-1.6cm}

\pagestyle{fancy}
\fancyhf{}
\cfoot{\thepage}

\def \doccourse { TIB1-B }
\def \doctitle {Labo : Mécanismes LAN}
\author{Bastien Clément \and Christophe Peretti}

\renewcommand{\thesection}{Objectif \arabic{section} :}
\renewcommand{\thesubsection}{\arabic{section}.\arabic{subsection}}

\rhead{\theauthor \\ \today}
\lhead{\doccourse \\ \doctitle }
\title{{\normalsize \doccourse} \\ \doctitle }

\begin{document}

\maketitle
\vspace{1em}

\section{Adresses IP et MAC et le protocole ARP}

Objectif et critère de succès

\subsection{Protocole ARP}

Le protocole ARP permet la traduction des adresses IP locales en adresses MAC. En effet, pour pouvoir indiquer correctement la machine de destination des trames qu'il émet, notre ordinateur a besoin de connaitre à qui il doit s'adresser.

Cette traduction est nécessaire pour passer du niveau 3 (réseau) du modèle OSI au niveau 2 (liaison) qui utilisent respectivement des adresses IP et MAC.

...

Le résultat d'une requête ARP est conservée en cache un certain temps pour être réutilisé tant que la communication est fonctionnelle.

\subsection{Pourquoi des adresses MAC sont-elles nécessaires ?}

L'attribution et le routage des adresses IP est complexe. De plus, les machines connectées à un réseau n'ont pas toujours une adresse assignée comme par exemple lors de l'auto-configuration avec le protocole DHCP. Dans cette situation, il est souhaitable de conserver une méthode d'adressage fixe pour faire référence à une machine particulière.

Une autre raison est simplement la nécessité d'avoir des adresses différentes pour chaque couche protocolaire puisque IP n'est le seul protocole fonctionnant sur Ethernet.

\section{Hub et switch}

Objectifs et critères de succès

\subsection{Différentes méthodes d'acheminement}

Un hub est un équipement réseau de niveau 1 (couche physique). Il n'effectue aucun traitement sur l'information qu'il reçoit et ce contente de réémettre la même trame sur toutes ses interfaces. Un réseau créé à partir de hubs ne contient qu'un seul \textit{domaine de collision}. C'est à dire que dès qu'une des machines le composant communique, aucune autre ne peut utiliser le réseau.

À l'inverse, un switch est un équipement de niveau 2 (couche liaison) qui analyse les trames reçues pour en extraire l'adresse MAC de destination et ne transmettre la trame que sur l'interface correspondant à ce destinataire précis.

\subsection{Captures effectuées}

Pour observer cette différence, nous avons réitéré la capture de l'objectif 1, une première fois avec un hub, puis avec un switch. Dans les deux cas la capture est effectuée depuis un second ordinateur.

\subsection{Auto-apprentissage du switch}

Le switch ne nécessite aucune configuration pour fonctionner mais apprend dynamiquement la configuration du réseau en observant les paquets reçus et transmis.

Lorsqu'il reçoit une trame adressée à un destinataire qu'il ne connaît pas encore, il la transmet simplement sur toutes ses interfaces. Par la suite, il est probable que la machine venant de recevoir la trame transmette à son tour quelque chose sur le réseau. À ce moment, le switch identifiera l'adresse MAC encore inconnue et l'interface depuis laquelle cette trame a été reçue. Il mettra donc à jour sa table interne pour pouvoir à présent diriger les trames adressées à cette adresse sur la bonne interface.

\section{Performances d'un hub et d'un switch}

L'objectif de cette partie est de comprendre les différences de performances entre un switch et un hub en effectuant des mesures de débit à l'aide de l'utilitaire \texttt{iperf}. Une machine doit être configurée en serveur pour accepter les transferts de la secondes machine configurée en client.

\subsection{Débits mesurés}

Les mesures sont effectuées sur une période de 1 minute.

\begin{tabular}{|r|c|c|}
	\hline
	& \textbf{Uni-directionnel} & \textbf{Bi-directionnel} \\
	\hline
	\textbf{Switch} & 9.75 Mb/s & 9.18 Mb/s - 9.05 Mb/s \\
	\textbf{Hub} & 5.71 Mb/s & 5.63 Mb/s - 0.191  Mb/s \\
	\hline
\end{tabular}

\subsection{Transmission full-duplex et half-duplex}

Ces résultats correspondent globalement aux attentes.

Un réseau formé de hubs ne peut fonctionner qu'en mode \textit{half-duplex} puisque les canaux d'émission et de réception sont nécessairement confondus.

À l'inverse, le lien entre un ordinateur et un switch est directe et privé. Aucun autre appareil ne peut directement transmettre dessus. Par conséquent, il est facile de réaliser une communication \textit{full-duplex} en utilisant deux canaux séparés.

La différence est bien sûr particulièrement marquée lorsque la communication est bi-directionnelle. Cependant, il faut signaler que même la communication uni-directionnelle nécessite en réalité la transition des paquets d'acquittement dans le sens inverse selon le protocole TCP. C'est probablement la raison pour laquelle le débit bi-directionnelle sur un switch diminue sans autres raisons apparentes.

On remarque aussi qu'avec le hub, la communication bi-directionnelle est désastreuse. Étrangement cependant, le débit n'est pas divisé équitablement mais une direction est considérablement plus rapide que l'autre.

\subsection{Auto-évaluation}

Nous considérons avoir atteint les objectifs de ce laboratoire.

\end{document}